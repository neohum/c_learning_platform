# 실행 시간 제한 설정 가이드

## 현재 설정

- **기본 타임아웃**: 30초 (기존 5초에서 변경됨)
- **설정 가능**: 환경 변수로 조정 가능

## 타임아웃 변경 방법

### 로컬 개발 환경

1. **`.env.local` 파일 생성**

```bash
# 프로젝트 루트에 .env.local 파일 생성
cd c-learning-platform-nextjs
touch .env.local
```

2. **타임아웃 설정 추가**

```env
# 60초로 설정
EXECUTION_TIMEOUT=60000

# 2분으로 설정
EXECUTION_TIMEOUT=120000

# 5분으로 설정
EXECUTION_TIMEOUT=300000
```

3. **서버 재시작**

```bash
npm run dev
```

### Railway 프로덕션 환경

1. **Railway 대시보드 접속**
   - https://railway.app/dashboard
   - 프로젝트 선택

2. **환경 변수 설정**
   - Variables 탭 클릭
   - `EXECUTION_TIMEOUT` 추가
   - 값 입력 (밀리초 단위)
   - 예: `60000` (60초)

3. **재배포**
   - 자동으로 재배포됩니다

## 타임아웃 값 권장사항

| 용도 | 권장 시간 | 값 (밀리초) |
|------|----------|-------------|
| 빠른 프로그램 | 10초 | 10000 |
| **일반 학습용** | **30초** | **30000** (기본) |
| 복잡한 알고리즘 | 60초 | 60000 |
| 매우 긴 작업 | 2분 | 120000 |
| 무제한 (비권장) | 없음 | 0 |

## ⚠️ 주의사항

### 타임아웃을 0으로 설정하면 (무제한):

```env
EXECUTION_TIMEOUT=0
```

**위험**:
- 무한 루프가 서버를 멈출 수 있습니다
- 서버 리소스가 고갈될 수 있습니다
- 다른 사용자에게 영향을 줄 수 있습니다

**권장하지 않음!** 프로덕션 환경에서는 절대 사용하지 마세요.

### 적절한 타임아웃 설정:

1. **일반 학습용**: 30초 (기본값)
   - 대부분의 학습 프로그램에 충분

2. **알고리즘 연습**: 60초
   - 정렬, 검색 알고리즘 등

3. **복잡한 계산**: 120초 (2분)
   - 큰 데이터 처리, 복잡한 재귀

## 에러 메시지

타임아웃 발생 시 표시되는 메시지:

```
프로그램 실행 시간이 초과되었습니다 (30초 제한)
무한 루프나 입력 대기 상태를 확인하세요.
```

시간 값은 설정한 `EXECUTION_TIMEOUT`에 따라 자동으로 변경됩니다.

## 디버깅 팁

### 타임아웃이 자주 발생한다면:

1. **무한 루프 확인**
   ```c
   while(1) {  // 종료 조건이 없음
       // ...
   }
   ```

2. **입력 대기 확인**
   ```c
   scanf("%d", &n);  // 입력이 제공되지 않으면 무한 대기
   ```

3. **큰 데이터 처리**
   ```c
   // 너무 큰 배열이나 반복 횟수
   for(int i = 0; i < 10000000; i++) {
       // ...
   }
   ```

### 해결 방법:

1. 알고리즘 최적화
2. 데이터 크기 축소
3. 타임아웃 시간 증가 (위 설정 방법 참고)

## 테스트

타임아웃 설정을 테스트하려면:

```c
#include <stdio.h>
#include <unistd.h>

int main() {
    printf("시작...\n");
    sleep(25);  // 25초 대기
    printf("완료!\n");
    return 0;
}
```

- 30초 타임아웃: ✅ 성공
- 20초 타임아웃: ❌ 타임아웃 발생

## 현재 설정 확인

API 호출 시 에러 메시지에서 현재 타임아웃을 확인할 수 있습니다:

```json
{
  "success": false,
  "error": "프로그램 실행 시간이 초과되었습니다 (30초 제한)\n무한 루프나 입력 대기 상태를 확인하세요.",
  "stage": "runtime"
}
```

---

**기본 30초 설정은 대부분의 학습 시나리오에 적합합니다!** 🎯
